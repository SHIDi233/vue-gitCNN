{"ast":null,"code":"import \"core-js/modules/web.url-search-params.size.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      // userID:'1',\n      // wareName:'1',\n      id: '',\n      des: '',\n      ruleForm: {\n        pattern: '',\n        id: '',\n        desc: ''\n      },\n      rules: {\n        id: [{\n          required: true,\n          message: '请填写操作对象账号',\n          trigger: 'blur'\n        }],\n        pattern: [{\n          required: true,\n          message: '请填写审批性质',\n          trigger: 'blur'\n        }],\n        desc: [{\n          required: true,\n          message: '请填写进行该操作的原因，如成员加入或移出的原因',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    submitForm(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          var params = new URLSearchParams();\n          // params.append('sID',this.userID);\n          params.append('wName', this.wareName);\n          params.append('mail', this.ruleForm.id);\n          params.append('content', this.ruleForm.desc);\n          axios.post('http://192.168.10.167:8888/applyWare', params).then(response => {\n            if (response.data.code == 1) {\n              alert(\"提交成功\");\n              this.$router.push('intro');\n            } else {\n              alert(response.data.msg);\n            }\n          }).catch(error => {\n            console.log(error);\n            alert(\"请求失败\");\n          });\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    }\n  }\n};","map":{"version":3,"names":["axios","data","id","des","ruleForm","pattern","desc","rules","required","message","trigger","methods","submitForm","formName","$refs","validate","valid","params","URLSearchParams","append","wareName","post","then","response","code","alert","$router","push","msg","catch","error","console","log","resetForm","resetFields"],"sources":["src/components/FormWarePage.vue"],"sourcesContent":["<template>\r\n    <div>\r\n    <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n\r\n    <el-form-item label=\"仓库名称\" prop=\"id\">\r\n      <el-input v-model=\"ruleForm.id\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"简介\" prop=\"des\">\r\n      <el-input v-model=\"ruleForm.des\"></el-input>\r\n    </el-form-item>\r\n  <el-form-item>\r\n    <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">提交</el-button>\r\n    <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\r\n  </el-form-item>\r\n</el-form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n    export default {\r\n    data() {\r\n      return {\r\n        // userID:'1',\r\n        // wareName:'1',\r\n        id:'',\r\n        des:'',\r\n        ruleForm: {\r\n          pattern:'',\r\n          id:'',\r\n          desc: ''\r\n        },\r\n        rules: {\r\n          id: [\r\n            { required: true, message: '请填写操作对象账号', trigger: 'blur' }\r\n          ],\r\n          pattern: [\r\n            { required: true, message: '请填写审批性质', trigger: 'blur' }\r\n          ],\r\n          desc: [\r\n            { required: true, message: '请填写进行该操作的原因，如成员加入或移出的原因', trigger: 'blur' }\r\n          ]\r\n        }\r\n      };\r\n    },\r\n    methods: {\r\n      submitForm(formName) {\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            var params = new URLSearchParams();\r\n                // params.append('sID',this.userID);\r\n                params.append('wName',this.wareName);\r\n                params.append('mail',this.ruleForm.id);\r\n                params.append('content',this.ruleForm.desc);\r\n\r\n                axios.post('http://192.168.10.167:8888/applyWare', params).then(response => {\r\n                    if(response.data.code==1){\r\n                        alert(\"提交成功\");\r\n                        this.$router.push('intro')\r\n                    }\r\n                    else{\r\n                        alert(response.data.msg);\r\n                    }\r\n                }).catch(error => {\r\n                    console.log(error)\r\n                    alert(\"请求失败\")\r\n                })\r\n          } else {\r\n            console.log('error submit!!');\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      resetForm(formName) {\r\n        this.$refs[formName].resetFields();\r\n      }\r\n    }\r\n  }\r\n</script>"],"mappings":";;AAmBA,OAAAA,KAAA;AACA;EACAC,KAAA;IACA;MACA;MACA;MACAC,EAAA;MACAC,GAAA;MACAC,QAAA;QACAC,OAAA;QACAH,EAAA;QACAI,IAAA;MACA;MACAC,KAAA;QACAL,EAAA,GACA;UAAAM,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAL,OAAA,GACA;UAAAG,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAJ,IAAA,GACA;UAAAE,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MAEA;IACA;EACA;EACAC,OAAA;IACAC,WAAAC,QAAA;MACA,KAAAC,KAAA,CAAAD,QAAA,EAAAE,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACA,IAAAC,MAAA,OAAAC,eAAA;UACA;UACAD,MAAA,CAAAE,MAAA,eAAAC,QAAA;UACAH,MAAA,CAAAE,MAAA,cAAAf,QAAA,CAAAF,EAAA;UACAe,MAAA,CAAAE,MAAA,iBAAAf,QAAA,CAAAE,IAAA;UAEAN,KAAA,CAAAqB,IAAA,yCAAAJ,MAAA,EAAAK,IAAA,CAAAC,QAAA;YACA,IAAAA,QAAA,CAAAtB,IAAA,CAAAuB,IAAA;cACAC,KAAA;cACA,KAAAC,OAAA,CAAAC,IAAA;YACA,OACA;cACAF,KAAA,CAAAF,QAAA,CAAAtB,IAAA,CAAA2B,GAAA;YACA;UACA,GAAAC,KAAA,CAAAC,KAAA;YACAC,OAAA,CAAAC,GAAA,CAAAF,KAAA;YACAL,KAAA;UACA;QACA;UACAM,OAAA,CAAAC,GAAA;UACA;QACA;MACA;IACA;IACAC,UAAApB,QAAA;MACA,KAAAC,KAAA,CAAAD,QAAA,EAAAqB,WAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}