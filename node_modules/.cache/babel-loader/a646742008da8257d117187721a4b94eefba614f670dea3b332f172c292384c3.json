{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    //message: 'Hello Vue.js!'\n    return {\n      mail: \"\",\n      name: \"\",\n      password: \"\"\n    };\n  },\n  methods: {\n    commit: function () {\n      // 获取message变量值将其转换成数组，逆转后再链接，再赋值给message\n      alert(\"注册\");\n      var m = this.mail;\n      var n = this.name;\n      var p = this.password;\n      var emreg = /^\\w{3,}(\\.\\w+)*@[A-z0-9]+(\\.[A-z]{2,5}){1,2}$/;\n      if (m == '') {\n        alert(\"邮箱地址不能为空\");\n        return;\n      } else if (emreg.test(m) == false) {\n        alert(\"请输入正确的邮箱地址\");\n        return;\n      }\n      if (n == '') {\n        alert(\"昵称不能为空\");\n        return;\n      }\n      if (p == '') {\n        alert(\"密码不能为空\");\n        return;\n      }\n      if (p.length < 5) {\n        alert(\"密码位数至少大于5\");\n        return;\n      }\n      axios.post('../register', {\n        mail: this.mail,\n        name: this.name,\n        password: this.password\n      }).then(response => {\n        console.log(response.data);\n        var obj = JSON.parse(response.data);\n        if (obj.code == 1) {\n          alert(\"注册成功\");\n          // window.location.href=\"../login\";\n          this.$router.push('/login');\n        } else {\n          alert(\"注册失败：邮箱已被注册\");\n        }\n      }).catch(error => {\n        console.log(error);\n        alert(\"请求失败\");\n      });\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}