{"ast":null,"code":"import \"core-js/modules/web.url-search-params.size.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nalert(window.localStorage.getItem(\"CCNtoken\"));\nexport default {\n  data() {\n    return {\n      // userID:'1',\n      // wareName:'1',\n      id: '',\n      desc: '',\n      ruleForm: {\n        id: '',\n        desc: ''\n      },\n      rules: {\n        id: [{\n          required: true,\n          message: '请填写操作对象账号',\n          trigger: 'blur'\n        }],\n        desc: [{\n          required: true,\n          message: '请填写进行该操作的原因，如成员加入或移出的原因',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    submitForm(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          var params = new URLSearchParams();\n          // params.append('sID',this.userID);\n          params.append('wName', this.ruleForm.id);\n          params.append('description', this.ruleForm.desc);\n          axios.post('http://192.168.10.167:8888/applyWare', params).then(response => {\n            if (response.data.code == 1) {\n              alert(\"提交成功\");\n              this.$router.push('intro');\n            } else {\n              alert(response.data.msg);\n            }\n          }).catch(error => {\n            console.log(error);\n            alert(\"请求失败\");\n          });\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    }\n  }\n};","map":{"version":3,"names":["axios","alert","window","localStorage","getItem","data","id","desc","ruleForm","rules","required","message","trigger","methods","submitForm","formName","$refs","validate","valid","params","URLSearchParams","append","post","then","response","code","$router","push","msg","catch","error","console","log","resetForm","resetFields"],"sources":["src/components/FormWarePage.vue"],"sourcesContent":["<template>\r\n    <div>\r\n    <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n\r\n    <el-form-item label=\"仓库名称\" prop=\"id\">\r\n      <el-input v-model=\"ruleForm.id\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"简介\" prop=\"desc\">\r\n      <el-input v-model=\"ruleForm.desc\"></el-input>\r\n    </el-form-item>\r\n  <el-form-item>\r\n    <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">提交</el-button>\r\n    <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\r\n  </el-form-item>\r\n</el-form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nalert(window.localStorage.getItem(\"CCNtoken\"));\r\n    export default {\r\n    data() {\r\n      return {\r\n        // userID:'1',\r\n        // wareName:'1',\r\n        id:'',\r\n        desc:'',\r\n        ruleForm: {\r\n          id:'',\r\n          desc:'',\r\n        },\r\n        rules: {\r\n          id: [\r\n            { required: true, message: '请填写操作对象账号', trigger: 'blur' }\r\n          ],\r\n          desc: [\r\n            { required: true, message: '请填写进行该操作的原因，如成员加入或移出的原因', trigger: 'blur' }\r\n          ]\r\n        }\r\n      };\r\n    },\r\n    methods: {\r\n      submitForm(formName) {\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            var params = new URLSearchParams();\r\n                // params.append('sID',this.userID);\r\n                params.append('wName',this.ruleForm.id);\r\n                params.append('description',this.ruleForm.desc);\r\n\r\n                axios.post('http://192.168.10.167:8888/applyWare', params).then(response => {\r\n                    if(response.data.code==1){\r\n                        alert(\"提交成功\");\r\n                        this.$router.push('intro')\r\n                    }\r\n                    else{\r\n                        alert(response.data.msg);\r\n                    }\r\n                }).catch(error => {\r\n                    console.log(error)\r\n                    alert(\"请求失败\")\r\n                })\r\n          } else {\r\n            console.log('error submit!!');\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      resetForm(formName) {\r\n        this.$refs[formName].resetFields();\r\n      }\r\n    }\r\n  }\r\n</script>"],"mappings":";;AAmBA,OAAAA,KAAA;AACAC,KAAA,CAAAC,MAAA,CAAAC,YAAA,CAAAC,OAAA;AACA;EACAC,KAAA;IACA;MACA;MACA;MACAC,EAAA;MACAC,IAAA;MACAC,QAAA;QACAF,EAAA;QACAC,IAAA;MACA;MACAE,KAAA;QACAH,EAAA,GACA;UAAAI,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAL,IAAA,GACA;UAAAG,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MAEA;IACA;EACA;EACAC,OAAA;IACAC,WAAAC,QAAA;MACA,KAAAC,KAAA,CAAAD,QAAA,EAAAE,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACA,IAAAC,MAAA,OAAAC,eAAA;UACA;UACAD,MAAA,CAAAE,MAAA,eAAAb,QAAA,CAAAF,EAAA;UACAa,MAAA,CAAAE,MAAA,qBAAAb,QAAA,CAAAD,IAAA;UAEAP,KAAA,CAAAsB,IAAA,yCAAAH,MAAA,EAAAI,IAAA,CAAAC,QAAA;YACA,IAAAA,QAAA,CAAAnB,IAAA,CAAAoB,IAAA;cACAxB,KAAA;cACA,KAAAyB,OAAA,CAAAC,IAAA;YACA,OACA;cACA1B,KAAA,CAAAuB,QAAA,CAAAnB,IAAA,CAAAuB,GAAA;YACA;UACA,GAAAC,KAAA,CAAAC,KAAA;YACAC,OAAA,CAAAC,GAAA,CAAAF,KAAA;YACA7B,KAAA;UACA;QACA;UACA8B,OAAA,CAAAC,GAAA;UACA;QACA;MACA;IACA;IACAC,UAAAlB,QAAA;MACA,KAAAC,KAAA,CAAAD,QAAA,EAAAmB,WAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}