{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    //message: 'Hello Vue.js!'\n    return {\n      mail: \"\",\n      name: \"\",\n      password: \"\"\n    };\n  },\n  methods: {\n    commit: function () {\n      // 获取message变量值将其转换成数组，逆转后再链接，再赋值给message\n      alert(\"注册\");\n      var m = this.mail;\n      var n = this.name;\n      var p = this.password;\n      var emreg = /^\\w{3,}(\\.\\w+)*@[A-z0-9]+(\\.[A-z]{2,5}){1,2}$/;\n      if (m == '') {\n        alert(\"邮箱地址不能为空\");\n        return;\n      } else if (emreg.test(m) == false) {\n        alert(\"请输入正确的邮箱地址\");\n        return;\n      }\n      if (n == '') {\n        alert(\"昵称不能为空\");\n        return;\n      }\n      if (p == '') {\n        alert(\"密码不能为空\");\n        return;\n      }\n      if (p.length < 5) {\n        alert(\"密码位数至少大于5\");\n        return;\n      }\n      axios.post('../', {\n        mail: this.m,\n        name: n,\n        password: this.pw\n      }).then(response => {\n        console.log(response.data);\n        var obj = JSON.parse(response.data);\n        if (obj.code == 1) {\n          window.sessionStorage.setItem(\"CCNtoken\", obj.data);\n          alert(window.sessionStorage.getItem(\"CCNtoken\"));\n          this.$router.push('/index');\n        } else {\n          alert(\"密码错误\");\n        }\n      }).catch(error => {\n        console.log(error);\n        alert(\"请求失败\");\n      });\n    },\n    register: function () {\n      // 获取message变量值将其转换成数组，逆转后再链接，再赋值给message\n      alert(\"注册\");\n      this.$router.push('/register');\n    }\n  }\n};","map":{"version":3,"names":["axios","data","mail","name","password","methods","commit","alert","m","n","p","emreg","test","length","post","pw","then","response","console","log","obj","JSON","parse","code","window","sessionStorage","setItem","getItem","$router","push","catch","error","register"],"sources":["src/components/RegisterPage.vue"],"sourcesContent":["<template>\r\n    <div class=\"login\">\r\n        <div class=\"box\">\r\n            <p class=\"table\">Git CCN</p>\r\n            <br>\r\n            <input id=\"mail\" type=\"text\" placeholder=\"邮箱\" value=\"\" v-model=\"mail\">\r\n\t\t\t<input id=\"name\" type=\"text\" placeholder=\"昵称\" value=\"\" v-model=\"name\">\r\n            <input id=\"pwd\" type=\"password\" placeholder=\"密码\" value=\"\" v-model=\"pass\">\r\n\t\t\t<a href=\"#\" class=\"go\" v-on:click=\"commit\">提交</a>\r\n\t\t\t<br>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios'\r\n    export default {\r\n        data() {\r\n            //message: 'Hello Vue.js!'\r\n            return{\r\n                mail:\"\",\r\n                name:\"\",\r\n                password:\"\"\r\n            }\r\n        },\r\n        methods: {\r\n            commit: function () {\r\n                // 获取message变量值将其转换成数组，逆转后再链接，再赋值给message\r\n                alert(\"注册\");\r\n                var m = this.mail;\r\n                var n = this.name;\r\n                var p = this.password;\r\n\r\n                var emreg=/^\\w{3,}(\\.\\w+)*@[A-z0-9]+(\\.[A-z]{2,5}){1,2}$/;\r\n\t\r\n\t\t\tif(m==''){\r\n\t\t\t\talert(\"邮箱地址不能为空\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\telse if(emreg.test(m)==false){\r\n\t\t\t\talert(\"请输入正确的邮箱地址\");\r\n\t\t\t\treturn;\r\n\t\t\t} \r\n\t\t\tif(n==''){\r\n\t\t\t\talert(\"昵称不能为空\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(p==''){\r\n\t\t\t\talert(\"密码不能为空\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\r\n\t\t\tif(p.length<5){\r\n\t\t\t\talert(\"密码位数至少大于5\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\r\n                axios.post('../', { mail:this.m,name:n,password:this.pw }).then(response => {\r\n                    console.log(response.data)\r\n                    var obj = JSON.parse(response.data);\r\n                    if(obj.code==1){\r\n                        window.sessionStorage.setItem(\"CCNtoken\",obj.data);\r\n                        alert(window.sessionStorage.getItem(\"CCNtoken\"));\r\n                        this.$router.push('/index')\r\n                    }\r\n                    else{\r\n                        alert(\"密码错误\")\r\n                    }\r\n                }).catch(error => {\r\n                    console.log(error)\r\n                    alert(\"请求失败\")\r\n                })\r\n            },\r\n            register: function () {\r\n                // 获取message变量值将其转换成数组，逆转后再链接，再赋值给message\r\n                alert(\"注册\");\r\n                this.$router.push('/register')\r\n            }\r\n        }\r\n    }\r\n</script>"],"mappings":";AAeA,OAAAA,KAAA;AACA;EACAC,KAAA;IACA;IACA;MACAC,IAAA;MACAC,IAAA;MACAC,QAAA;IACA;EACA;EACAC,OAAA;IACAC,MAAA,WAAAA,CAAA;MACA;MACAC,KAAA;MACA,IAAAC,CAAA,QAAAN,IAAA;MACA,IAAAO,CAAA,QAAAN,IAAA;MACA,IAAAO,CAAA,QAAAN,QAAA;MAEA,IAAAO,KAAA;MAEA,IAAAH,CAAA;QACAD,KAAA;QACA;MACA,OACA,IAAAI,KAAA,CAAAC,IAAA,CAAAJ,CAAA;QACAD,KAAA;QACA;MACA;MACA,IAAAE,CAAA;QACAF,KAAA;QACA;MACA;MACA,IAAAG,CAAA;QACAH,KAAA;QACA;MACA;MAEA,IAAAG,CAAA,CAAAG,MAAA;QACAN,KAAA;QACA;MACA;MAGAP,KAAA,CAAAc,IAAA;QAAAZ,IAAA,OAAAM,CAAA;QAAAL,IAAA,EAAAM,CAAA;QAAAL,QAAA,OAAAW;MAAA,GAAAC,IAAA,CAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,QAAA,CAAAhB,IAAA;QACA,IAAAmB,GAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAL,QAAA,CAAAhB,IAAA;QACA,IAAAmB,GAAA,CAAAG,IAAA;UACAC,MAAA,CAAAC,cAAA,CAAAC,OAAA,aAAAN,GAAA,CAAAnB,IAAA;UACAM,KAAA,CAAAiB,MAAA,CAAAC,cAAA,CAAAE,OAAA;UACA,KAAAC,OAAA,CAAAC,IAAA;QACA,OACA;UACAtB,KAAA;QACA;MACA,GAAAuB,KAAA,CAAAC,KAAA;QACAb,OAAA,CAAAC,GAAA,CAAAY,KAAA;QACAxB,KAAA;MACA;IACA;IACAyB,QAAA,WAAAA,CAAA;MACA;MACAzB,KAAA;MACA,KAAAqB,OAAA,CAAAC,IAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}