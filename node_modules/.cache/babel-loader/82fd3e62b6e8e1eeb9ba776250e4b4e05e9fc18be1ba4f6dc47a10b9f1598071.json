{"ast":null,"code":"import axios from 'axios';\nimport Vue from \"vue\";\nconst instance = axios.create({\n  baseURL: 'http://localhost:8080/',\n  // api 的 base_url\n  withCredentials: false //跨域时使用凭证，默认带上cookies\n  // timeout: 2000, // request timeout  设置请求超时时间\n});\n\n//添加请求拦截器\ninstance.interceptors.request.use(config => {\n  config.headers['token'] = \"test\";\n  if (window.sessionStorage.getItem(\"CCNtoken\") != null) {\n    config.headers['token'] = window.sessionStorage.getItem(\"CCNtoken\");\n  }\n  return config;\n}, error => {\n  //对请求错误做什么\n  return Promise.reject(error);\n});\nVue.prototype.$http = axios;\nexport default instance;","map":{"version":3,"names":["axios","Vue","instance","create","baseURL","withCredentials","interceptors","request","use","config","headers","window","sessionStorage","getItem","error","Promise","reject","prototype","$http"],"sources":["E:/ST/html/vue/gitccn/src/axios/index.js"],"sourcesContent":["import axios from 'axios'\r\nimport Vue from \"vue\";\r\n\r\nconst instance = axios.create({\r\n\tbaseURL: 'http://localhost:8080/', // api 的 base_url\r\n\twithCredentials: false//跨域时使用凭证，默认带上cookies\r\n\t// timeout: 2000, // request timeout  设置请求超时时间\r\n  })\r\n\r\n//添加请求拦截器\r\ninstance.interceptors.request.use(\r\n  config =>{\r\n    config.headers['token'] = \"test\";\r\n    if(window.sessionStorage.getItem(\"CCNtoken\")!=null){\r\n      config.headers['token'] =window.sessionStorage.getItem(\"CCNtoken\")\r\n    }\r\n    return config;\r\n  },\r\n  error =>{\r\n    //对请求错误做什么\r\n    return Promise.reject(error);\r\n  });\r\n\r\n\r\n  Vue.prototype.$http = axios\r\n  export default instance"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,GAAG,MAAM,KAAK;AAErB,MAAMC,QAAQ,GAAGF,KAAK,CAACG,MAAM,CAAC;EAC7BC,OAAO,EAAE,wBAAwB;EAAE;EACnCC,eAAe,EAAE,KAAK;EACtB;AACC,CAAC,CAAC;;AAEJ;AACAH,QAAQ,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAC/BC,MAAM,IAAG;EACPA,MAAM,CAACC,OAAO,CAAC,OAAO,CAAC,GAAG,MAAM;EAChC,IAAGC,MAAM,CAACC,cAAc,CAACC,OAAO,CAAC,UAAU,CAAC,IAAE,IAAI,EAAC;IACjDJ,MAAM,CAACC,OAAO,CAAC,OAAO,CAAC,GAAEC,MAAM,CAACC,cAAc,CAACC,OAAO,CAAC,UAAU,CAAC;EACpE;EACA,OAAOJ,MAAM;AACf,CAAC,EACDK,KAAK,IAAG;EACN;EACA,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC,CAAC;AAGFb,GAAG,CAACgB,SAAS,CAACC,KAAK,GAAGlB,KAAK;AAC3B,eAAeE,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}